{% load static %}
{% load bootstrap4 %}
{% bootstrap_css %}
{% bootstrap_jquery %}

{% bootstrap_javascript %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://kit.fontawesome.com/359826513d.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery.js"></script>
    <title>Kitchen</title>
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'css/home.css' %}">

</head>
<body>

{# including the top bar #}
{% include './inc/navbar.html' with ctx=kitchen %}



{# including the navigation bar#}
{% include './inc/navbar2.html' with kitchen=kitchen %}







{% block content %}

    <div >
        <div id="carouselExampleControls" class="carousel slide " data-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active bg-dark">
              <img class="d-block w-100 img" style="opacity:0.7;height: 700px" src="{% static 'imgs/Compressed_Cambridge_White_Main.jpg' %}" alt="First slide">
            </div>
            <div class="carousel-item bg-dark">
              <img class="d-block w-100 img" style="opacity:0.7;height: 700px" src="{% static 'imgs/Compressed_Cartmel-Oak.jpg' %}" alt="Second slide">
            </div>
            <div class="carousel-item bg-dark">
              <img class="d-block w-100 img" style="height: 700px;opacity: 0.7" src="{% static 'imgs/Compressed_Cartmel_Indigo_Main_RGB_WEB.jpg' %}" alt="Third slide">
            </div>
          </div>
          <a class="carousel-control-prev"  style="color: black!important;" href="#carouselExampleControls" role="button" data-slide="prev">
            <div class="p-3 bg-dark" style="">
                <span class="carousel-control-prev-icon"  style="color: black!important;" aria-hidden="true"></span>
                <span class="sr-only" style="padding: 20px!important;" id="arrow_left">Previous</span>
            </div>
          </a>
          <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <div class="p-3 bg-dark">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </div>
          </a>
        </div>
    </div>

    <div class="text-center p-5 my-4">
        <h4 style="color: rgb(46, 154, 135);font-weight: 800">About</h4>
        <h2 style="font-weight: 800">WHO WE ARE?</h2>
        <p style="font-weight: 500">We are a British company with Italian inspired furniture. Hassle-free payment over 3 months. </p>
        <p style="font-weight: 500">Nationwide Service and Quick Delivery of stocked items in 7-10 days. We are Committed to producing quality priced kitchens at affordable prices.</p>
        <p style="font-weight: 500">A team that has over 100 years experience. Our Kitchen furniture has been tested and approved by FIRA to reassure our customers of our high-quality kitchens and FSC certified to ensure our products are responsibly sourced.</p>


        <div class="row p-2 mt-5 counter" style="width: 90%;margin: auto">


            <div class="col-lg-3 my-2">
                <div class="card hoverEffect shadow" style="max-width:90%;">
                  <div class="card-body ">
                    <div class="d-flex justify-content-between">
                        <h2 style="font-weight: 800" class="card-title m-0 align-self-center counter-count">436</h2>
                          <i class="far fa-handshake align-self-center" style="font-size: xx-large"></i>
                    </div>
                      <p style="font-weight: 500" class="text-left m-0">Satisfied Clients</p>
                  </div>
                </div>
            </div>


            <div class="col-lg-3 my-2">
                <div class="card hoverEffect shadow" style="max-width:90%;">
                  <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <h2 class="card-title m-0 align-self-center counter-count" style="font-weight: 800">2431</h2>
                          <i class="far fa-handshake align-self-center" style="font-size: xx-large"></i>
                    </div>
                      <p style="font-weight: 500" class="text-left m-0">Design Plans</p>
                  </div>
                </div>

            </div>


            <div class="col-lg-3 my-2">
                <div class="card hoverEffect shadow" style="max-width:90%;">
                  <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <div class="d-flex">
                            <h3 style="font-weight: 800" class="card-title m-0 align-self-center counter-count">50</h3>
                            <span class="align-self-center" style="font-size: x-large">+</span>
                        </div>
                          <i class="far fa-handshake align-self-center" style="font-size: xx-large"></i>
                    </div>
                      <p style="font-weight: 500" class="text-left m-0 ">Combine Experience</p>
                  </div>
                </div>

            </div>


            <div class="col-lg-3 my-2">
                <div class="card hoverEffect shadow" style="max-width:90%;">
                  <div class="card-body ">
                    <div class="d-flex justify-content-between">
                        <div class="d-flex">
                            <h3 style="font-weight: 800" class="card-title m-0 align-self-center counter-count">3000</h3>

                            <span class="align-self-center" style="font-size: x-large">+</span>
                        </div>
                          <i class="far fa-handshake align-self-center" style="font-size: xx-large"></i>
                    </div>
                      <p style="font-weight: 500" class="text-left m-0">Completed Projects</p>
                  </div>
                </div>

            </div>
        </div>
    </div>


    <div class="text-center complete-line" style="width: 50%;margin: auto">
        <h4 style="color:rgb(46, 154, 135);font-weight: 800">SERVICES</h4>
        <h2 style="font-weight: 800">What we do</h2>
        <p style="font-weight: 500">We provide UK market with the finest Italian modern and traditional kitchens, created by the world's top architects and designers. We will help you get kitchen which is perfect for you and your family.</p>
        <h2 style="font-weight: 800">What are we</h2>
        <p style="font-weight: 500">We are a British company with Italian inspired furniture. Hassle-free payment over 3 months. Nationwide Service and Quick Delivery of stocked items in 7-10 days. We are Committed to producing quality priced kitchens at affordable prices. A team that has over 100 years experience. Our Kitchen furniture has been tested and approved by FIRA to reassure our customers of our high-quality kitchens and FSC certified to ensure our products are responsibly sourced.</p>

    </div>

    <div class="row text-center my-5 p-3" style="width: 80%;margin: auto">
        <div class="col-lg-3 p-3 hoverEffect border-right d-flex " style="height: 350px">
            <div class="align-self-center ">
                <i class="fas fa-pencil-ruler p-3" style="font-size: xx-large"></i>
            <h2 style="font-weight: 800">Design & Drawing</h2>
            <p style="font-weight: 500">We deliver Kitchen designs that balance style & functionality.</p>
            </div>
        </div>
        <div class="col-lg-3 p-3 hoverEffect border-right d-flex my-2"  style="height: 350px">
            <div class="align-self-center">
                <i class="fas fa-cogs p-3" style="font-size: xx-large"></i>
            <h2 style="font-weight: 800">Installation</h2>
            <p style="font-weight: 500">We carry out full installation services. With us, every step is seamless.</p>
            </div>
        </div>
        <div class="col-lg-3 p-3 hoverEffect border-right d-flex" style="height: 350px">
            <div class="align-self-center">
                <i class="fas fa-truck p-3" style="font-size: xx-large"></i>
                <h2 style="font-weight: 800">Fast Delivery</h2>
                <p style="font-weight: 500">7 to 10 days Nationwide Delivery. Free delivery for orders above Â£300.</p>
            </div>
        </div>
        <div class="col-lg-3 p-3 hoverEffect border-right d-flex" style="height: 350px">
            <div class="align-self-center">
                <i class="fas fa-money-bill-wave p-3" style="font-size: xx-large"></i>
                <h2 style="font-weight: 800">Easy Payments</h2>
                <p style="font-weight: 500">3 Easy interest-free Instalments through KLARNA</p>
            </div>
        </div>
    </div>



    <div class="container my-5" id="container_remove">


        <h4 style="color: rgb(46, 154, 135);font-weight: 800" class="text-center">Kitchen Styles</h4>
        <h1 class="text-center" style="font-weight: 800">Our Work</h1>
        <div style="width: 60%;margin: auto" id="search_in">
            <div class="d-flex justify-content-around">
{#                <a style="text-decoration: none;color: black;font-weight: 500" class="a_btn" href="">View All</a>#}
                <a style="cursor: pointer;text-decoration: none;color: black;font-weight: 500" class="a_btn" onclick="my_func(event)">Cartmel</a>
                <a style="cursor: pointer;text-decoration: none;color: black;font-weight: 500" class="a_btn" onclick="my_func(event)">Lucente Matt</a>
                <a style="cursor: pointer;text-decoration: none;color: black;font-weight: 500" class="a_btn" onclick="my_func(event)">Oxford</a>
                <a style="cursor: pointer;text-decoration: none;color: black;font-weight: 500" class="a_btn" onclick="my_func(event)">Windsor</a>
            </div>
            <hr/>
        </div>

        <div style="width: 80%;margin: auto" id="search_in">

        {#   custom carosel to be made     #}
        <div id="carouselExampleControls1" class="carousel slide " data-ride="carousel">


          <div class="carousel-inner" id="deleteId">


            <div class="carousel-item active bg-dark" id="carosel">
              <img class="d-block w-100 " style="opacity:0.7;height: 400px" loading="lazy" src="https://tkc-static.s3.eu-west-2.amazonaws.com/media/Cambridge_Super-White_Main.jpg" alt="First slide">
            </div>
            <div class="carousel-item bg-dark">
              <img class="d-block w-100 " loading="lazy" style="opacity:0.7;height: 400px" src="https://tkc-static.s3.eu-west-2.amazonaws.com/media/Cartmel_Indigo_Cameo_RGB_WEB.jpg" alt="Second slide">
            </div>
            <div class="carousel-item bg-dark">
              <img class="d-block w-100 " loading="lazy" style="height: 400px;opacity: 0.7" src="https://tkc-static.s3.eu-west-2.amazonaws.com/media/Cartmel-Oak.jpg" alt="Third slide">
            </div>
          </div>
          <a class="carousel-control-prev"   href="#carouselExampleControls1" role="button" data-slide="prev">
            <div class="p-3 bg-dark" style="">
                <span class="carousel-control-prev-icon"  style="color: black!important;" aria-hidden="true"></span>
                <span class="sr-only"  id="arrow_left">Previous</span>
            </div>
          </a>
          <a class="carousel-control-next" href="#carouselExampleControls1" role="button" data-slide="next">
            <div class="p-3 bg-dark">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </div>
          </a>
        </div>

    </div>
    </div>

    <div class="row ml-0 mr-0 mt-5 ">
        <div class="col-md-6 p-0 text-center" style="">
            <video height="380px" width="683px" id="video" controls preload="none" autoplay="false" >
                <source src="{% static 'videos/main.mp4' %}" type="video/mp4">
            </video>
{#            <video src="{% static 'videos/main.mp4' %}" height="674px" width="400px"></video>#}
        </div>
        <div class="col-md-6 p-5 bg-light">
            <h2>Samples</h2>
            <p>
                Due to COVID-19 and for the protection of our team all showroom visits need to be by appointment
                only. Showroom visits are limited to 20-30 minutes. If you require samples, we are happy to post samples free of charge
                . But you have to cover the cost of postage and packaging.
            </p>
        </div>
    </div>

    <div class="my-5 ">
        <div>
            <h4 style="color: rgb(46, 154, 135);font-weight: 800" class="text-center">BLOG</h4>
            <h2 style="font-weight: 800" class="text-center p-3">Latest Blogs</h2>
            <div class="row m-0 justify-content-around menu">
                {% for item in blogs %}
                    <div class="card shadow col-lg-4 p-0 date my-3" id="blog" style="max-width: 27%;">
                        <img src="{{ item.get_photo_url }}" loading="lazy" height="240px" class="card-img-top" alt="">
                        <div class="card-body p-3 d-flex">
                            <div style="height: fit-content;background-color: rgb(46, 154, 135);color: white;border-radius: 4px"
                                 class="p-3 date2 ">
                                <h2 class="m-0">{{ item.timestamp|date:'d' }}</h2>
                                <h5 class="m-0">{{ item.timestamp|date:'M' }}</h5>
                            </div>
                            <div class="p-3">
                                <h2 class="card-title m-0">{{ item.title }}</h2>

                                <p class="m-0">{{ item.text|safe|truncatechars_html:20 }}</p>
                                <a href="{% url 'application:blog-detail' item.pk %}">Read here</a>
                            </div>
                        </div>
                    </div>

                {% endfor %}
            </div>
        </div>
    </div>


{% endblock %}

{# including the footer #}
{% include './inc/footer.html' %}
</body>
{% block script %}
{% endblock %}
<script>

        function my_func(e){
            let url = [];
            const carosel = document.getElementById('carosel')
            fetch(`http://127.0.0.1:8000/get-images/${e.target.text}/`)
            .then((res)=>{
                return res.json()
            })
            .then((result)=>{
                const parseResult = JSON.parse(result)
                parseResult.forEach((item)=>{
                    console.log(item.fields.img)
                    url.push('media/'+item.fields.img)

                })
            })
            async function func(){
                await url
                setTimeout(()=>{
                    const toDelete = document.getElementById('deleteId')
                    toDelete.innerHTML=''
                    url.forEach((item,index)=>{
                    const div = document.createElement('div')
                    const img = document.createElement('img')
                    img.src=item
                    console.log(img)
                    if (index===0){
                    div.setAttribute('class','carousel-item bg-dark active')

                    }
                    else{
                    div.setAttribute('class','carousel-item bg-dark')

                    }
                    img.setAttribute('class','d-block w-100 by-ajax')
                    img.style.height = 400+'px'
                    img.style.opacity = 0.7

                    div.append(img)
                    console.log(div)
                    console.log(carosel)
                    toDelete.append(div)
                })


                },500)

            }
            func()


    }
$('.counter-count').each(function () {
        $(this).prop('Counter',0).animate({

            Counter: $(this).text()
        },
            {
            duration: 2000,
            easing: 'swing',
            step: function (now) {
                $(this).text(Math.ceil(now));
            }
        });
    });
    function mobile_click(e) {
        const div = document.getElementById('menu_div')
        if (div.style.display === 'block'){
            div.style.transition = 'all 2s ease-in-out'
            div.style.display='none'

        }
        else{
            div.style.transition = 'all 2s ease-in-out'
            div.style.display='block'
        }

    }
</script>
</html>